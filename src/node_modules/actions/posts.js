import actionTypes from 'actionTypes'
import {HTTP} from 'helpers/http'
const {
  FETCH_POSTS_START,
  FETCH_POSTS_SUCCESS,
  FETCH_POSTS_FAILURE,
} = actionTypes

export const fetchPosts = () => (dispatch) => {
  dispatch({type: FETCH_POSTS_START})
  return HTTP('posts',{
    method: 'GET',
  }).then(response => {
    dispatch({
      type: FETCH_POSTS_SUCCESS,
      payload: response
    })
    return response
  }).catch(error => {
    dispatch({
      type: FETCH_POSTS_FAILURE,
      payload: error,
      error: true
    })
    return error
  })
}
