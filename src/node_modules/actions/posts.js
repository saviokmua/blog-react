import actionTypes from 'actionTypes'
import {fetchPosts as fetchPostsApi} from 'api/post'
const {
  FETCH_POSTS_START,
  FETCH_POSTS_SUCCESS,
  FETCH_POSTS_FAILURE
} = actionTypes


export const fetchPosts = () => async (dispatch) => {
  dispatch({type: FETCH_POSTS_START})
  try {
    const response = await fetchPostsApi()
    dispatch({
      type: FETCH_POSTS_SUCCESS,
      payload: response
    })
  } catch (error) {
    dispatch({
      type: FETCH_POSTS_FAILURE,
      payload: error,
      error: true
    })
  }
}
